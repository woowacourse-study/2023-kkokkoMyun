## 레디스에 대해 설명해보시고, 어떤 경우에 사용해야 하는지 이야기 해주세요.

### 개념 설명

### 레디스

- 레디스는 DB, 캐시, 메세지 브로커, 스트리밍 엔진으로 사용될 수 있는 인메모리 디비이다.
- 레디스는 일종의 NoSql형태로, key - value 쌍을 가진 형태로 값을 저장한다.
- 디비 성능의 가장 큰 요소인 하드디스크 IO 작업이 없어서, 디스크에 IO작업을 하는 DB들보다 상대적으로 빠르다.

## 꼬리 질문

### 레디스의 특징에 대해 설명해보세요

<details>
<summary></summary>
<div markdown="1">

- 레디스의 가장 대표적인 특성으로는 싱글스레드를 들 수 있다.
    - 스레드 하나에서 작업을 큐처럼 처리하기 때문에 race condition 같은 것을 걱정할 필요가 없다.
    - 하지만 큐형태라서, 작업 하나에서 문제가 발생하면, 다른 작업에 영향을 끼친다.
- 인메모리 디비라 기본적으로 데이터는 휘발성이다.
    - 하지만 AOF나 RDB 방식으로, 데이터를 영구적으로 저장할 수도 있다(하지만 항상 휘발될 수 있음을 생각해야 한다.)
- key - value 형태로 값을 저장한다. key는 String 형식으로만 저장되며, value에는 정말 다양한 형태들이 있다.

</div>
</details>

### 레디스의 특성을 고려했을 때, 어떤 상황에서 사용하는게 좋겠나?

<details>
<summary></summary>
<div markdown="1">

- Redis가 캐시로 쓰이기에 적당한 것 같습니다.
- 기존의 디스크에 io작업을 하는 경우 조회가 정말 많이 일어날 때 index를 통한 최적화를 할 수 있습니다.
  하지만 쓰기도 많이 일어난다면 어떨까요? index는 기본적으로 쓰기 성능을 희생하여, 읽기 성능을 올린 것이기에,
  읽기와 쓰기 모두 자주 일어나는 경우 적절한 최적화가 되지 못합니다.
- 즉 읽기와 쓰기 모두 많이 일어나 기존 디비의 성능으론 문제가 생기고,
  저장하고자 하는 데이터가 휘발되도 서비스에 크리티컬한 영향을 끼치지 않는 경우 사용할 수 있을 것 같습니다.
- 가장 대표적인 예시로 세션이 될 것 같습니다. 읽기와 쓰기 작업 모두 자주 일어나니까요.

</div>
</details>

### 레디스의 특성을 고려했을 때, 어떤 점을 주의해야 하는가?

<details>
<summary></summary>
<div markdown="1">

- 일단 데이터가 휘발될 수 있다는 것이 가장 큰 것 같다.
  아무리 AOF나 RDB 방식을 지원한다고 하지만, 항상 데이터가 정상적으로 백업된다고 생각하기엔 어려울 것 같다.
- 싱글스레드임을 주의해야 한다. 만약 redis에서 작업이 O(n)인 (keys나 getAll) 전체조회를 사용한다면, 다른 작업까지도 영향을 받기 때문에
  O(n)인 작업을 자제하거나 주의해야한다.
- 메모리에 저장을 하다보니, 지속적인 메모리 모니터링이 필요하고, 가상메모리에 관련된 지식도 필요하다.

</div>
</details>

### 자바의 ConcurrentHashMap도 redis처럼 쓸 수 있을 것 같다. 둘의 차이는 뭔가?

<details>
<summary></summary>
<div markdown="1">

- concurrentHashMap은 멀티스레딩 환경에서 사용하는 자료구조지만, redis는 싱글스레드다.
- concurrentHashMap은 자바에 종속적이지만, redis는 그렇지 않다. 막말로 redis에 접근하는 서버가 다른 언어 다른 프레임워크일 수도 있다.
- concurrentHashMap에 경우에는 JVM에 종속적이어서 서버가 scale out을 한다면 문제가 된다. redis는 메모리에 의존적이기에 서버가 scale out을
  해도 괜찮다.
- concurrentHashMap의 경우에는 서버 장애시 데이터가 유실될 수 있다. redis도 그렇지만, RDB나 AOF로 데이터를 어느정도 백업할 수 있다.
- concurrentHashMap은 자바 어플리케이션에 종속적이어서 별도의 서버관리를 하지 않아도 괜찮다. redis는 별도로 서버로 관리해야 하며, 추가적인 설정이
  필요하다.

</div>
</details>

## 참고 자료 및 레퍼런스

https://redis.io/docs/about/
