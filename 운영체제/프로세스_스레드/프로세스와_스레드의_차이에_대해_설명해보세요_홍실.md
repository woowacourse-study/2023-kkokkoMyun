## 프로세스와 스레드의 차이에 대해 설명해보세요.

### 개념 설명

### 프로세스

- 프로세스는 메모리 상에 실행되는 프로그램을 말한다. <br>
- 개인적으로 프로그램의 인스턴스라는 느낌으로 정의하면 좋을 것 같다.

### 스레드

- 스레드는 프로세스에 종속되어 있는 하나의 작업단위다.
- 실제로 작업을 수행하는 주체이다. 하나의 프로세스엔 최소한 하나의 스레드가 존재한다.

## 꼬리 질문

### 프로세스와 스레드의 특징에 대해 설명해보세요

<details>
<summary></summary>
<div markdown="1">

- 프로세스는 별도의 독립적인 공간을 가지기에, 프로세스끼리 통신이 어렵습니다.
  공유하는 메모리 공간이 없기에 프로세스간 컨텍스트 스위칭은 비교적 오버헤드가 큽니다.

- 스레드는 같은 프로세스에 종속된 다른 스레드와 stack 영역을 제외한 다른 메모리 공간을 공유합니다.
  그래서 스레드끼리 컨텍스트 스위칭은 프로세스에 비해 비교적 빠른 편입니다.

</div>
</details>

### 한 어플리케이션에서의 멀티 프로세싱과 멀티 스레딩의 차이는 뭔가요?

<details>
<summary></summary>
<div markdown="1">

- 멀티 프로세싱에서는 한 부모 프로세스에서 fork를 통해 여러 자식 프로세스를 만들어 작업을 처리합니다.
- 멀티 스레드는 하나의 프로세스에서 여러개의 작업단위로 분리하여 실행하는 것을 의미합니다.
- 멀티 프로세싱에선 메모리 공간이 독립적이기에 컨텍스트 스위칭 비용이 비싼 대신에 별도의 동기화 문제가 발생하진 않습니다.
- 멀티 스레드에서는 메모리 공간을 공유하기 때문에 컨텍스트 스위칭 비용이 싸지만, 동기화 문제가 발생합니다.

</div>
</details>

### JVM에서는 어떤식으로 작업을 동시에 처리하나요?

<details>
<summary></summary>
<div markdown="1">

- JVM에서는 기본적으로 단일 프로세스 멀티 스레딩 방식으로 동시에 작업을 처리합니다.
- 자바는 1.2버전까지는 Green thread를 사용했는데, 이는 가상 스레드로 실제 스레드가 아닙니다.
- 그래서 자바 코드에서 여러개의 스레드를 만들어 내더라도, 실제 OS 레벨에서 봤을 때 JVM의 스레드는 하나로 보입니다.
- 하나의 스레드는 하나의 Core에 할당되기 때문에, 멀티코어 환경이라고 하더라도 코어를 하나만 활용하기에 병렬적으로 작업을 처리하진 못합니다.
- 대신 자바 1.3버전 부터는 실제 thread인 native thread를 생성해서 사용하기에, 각각의 스레드가 멀티코어 환경에서 동작하여 작업을 병렬적으로 처리할 수
  있습니다.

![일하는 CPU0](
https://forums.autodesk.com/t5/image/serverpage/image-id/344684iCB014721B542E874/image-size/large?v=v2&px=999
)

</div>
</details>

### 그럼 Green thread는 단점만 존재하나요?

<details>
<summary></summary>
<div markdown="1">

- Green thread를 쓰는 것보다 Native thread를 쓰는 것이 CPU 입장에서 더 많은 문제를 야기합니다.
- 자원을 할당할 떄에도, Green thread는 OS 입장에서 하나의 스레드로 여겨지기에, 자원을 하나 할당하면 끝이지만,
native thread의 경우에는 그 수만큼 자원을 할당해야 하는 오버헤드가 발생합니다.
- 또 Green thread는 가상의 스레드기 때문에 JVM에서 좀 더 세밀하게 스케쥴링하는 것이 가능합니다.
- 그렇기에, 멀티코어 환경이 아니고 제한된 하드웨어 리소스가 사용되는 상황에서는 Green thread가 더 용이합니다.

</div>
</details>

## 참고 자료 및 레퍼런스

https://en.wikipedia.org/wiki/Green_thread
https://stackoverflow.com/questions/5713142/green-threads-vs-non-green-threads
https://www.youtube.com/watch?v=1grtWKqTn50
